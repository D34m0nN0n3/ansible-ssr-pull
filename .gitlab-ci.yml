  stages:
    - texdocs

  .check_rule:
    rules:
      - exists:
        - material

  check:
    tags:
      - mkdocs
    stage: texdocs
    rules:
      - if: '$CI_PIPELINE_SOURCE == "main"'
        exists:
        - material/mkdocs_theme.yml
    script:
      - echo "exist"
      - ls -l

  build:
    only:
      - main
#    refs:
#      - master
#      - merge_requests
    tags:
      - mkdocs
    stage: texdocs
    script:
      - echo $CI_PROJECT_NAME
      - pwd
      - ls -alZ
      - hostname -f
      - whoami & id
